sensorsdata.ConvertSnapshot=function(){},sensorsdata.ConvertSnapshot.prototype.convertAndroidToControls_=function(e,i,t){var s=[];if($.isEmptyObject(e.serialized_objects)||!$.isArray(e.serialized_objects.objects))return s;var n=$.extend(!0,[],e.serialized_objects.objects),a=function(e){for(var i=["com.android.internal.policy.impl.PhoneWindow.DecorView","com.android.internal.policy.PhoneWindow.DecorView","com.android.internal.policy.DecorView","com.android.internal.policy.impl.MultiPhoneWindow.MultiPhoneDecorView"],t=-1,s=e.length-1;s>=0;s--)if(i.indexOf(e[s].view_class)>=0){t=s;break}var n=e,a=[];-1!==t&&(n=e.slice(t));var r=n.length;return n.map(function(e,i){var t=e.view_class;a.push(i===r-1&&t&&t.indexOf("ListView")>=0?e.view_class+"[jjf_hide]":e.view_class+"["+e.index+"]")}),a.shift(),a.join("/")},r=0,l=function(e,o,d,c,u){u=$.extend(!0,[],u);var p=n[e];if(p&&0===p.visibility){u.push({index:p.index,sa_id_name:p.sa_id_name,view_class:p.classes[0]}),d=d-p.scrollX+p.left,c=c-p.scrollY+p.top;var v=p.width,f=p.height,h="";(d>=0&&i>d&&c>=0&&t>c||d+v>=0&&i>d+v&&c+f>=0&&t>c+f)&&p.importantForAccessibility===!0&&(p.classes.indexOf("android.widget.EditText")>=0?h="text_changed":p.classes.indexOf("android.view.View")>=0&&(p.clickable===!0?h="click":(p.classes.indexOf("android.view.ViewGroup")>=0||p.classes.indexOf("android.widget.TextView")>=0)&&(h="view_cell")),0>d&&(v+=d,d=0),d+v>i&&(v=i-d),0>c&&(f+=c,c=0),c+f>t&&(f=t-c));var w="";if(u.map(function(e,i){0===i&&(w+=e.view_class),w+="/"+e.view_class}),h&&s.push({id:p.id,eventType:h,path:a(u),hashPath:w,x:d,y:c,width:v,height:f,zIndex:r}),p.subviews&&p.subviews.length>0)for(var b=0,x=p.subviews.length;x>b;b++){var _=sensorsdata.findIndex(n,function(e){return e.hashCode===p.subviews[b]});-1!==_&&l(_,e,d,c,u)}}},o=sensorsdata.findIndex(n,function(i){return i.hashCode===e.serialized_objects.rootObject});return l(o,-1,0,0,[]),s},sensorsdata.ConvertSnapshot.prototype.convertIOSToControls_=function(e){var i=[];if($.isEmptyObject(e.serialized_objects)||!$.isArray(e.serialized_objects.objects))return i;var t=$.extend(!0,[],e.serialized_objects.objects),s=function(e){var i={};return e.map(function(e,t){if(e){e.index=t;var s=e["class"][0];i[s]?i[s].push(e):i[s]=[e]}}),i},n=function(e,i,a,r){if(!i.path_){var l=i["class"][0];i.path_="UITableViewWrapperView"===l?e:e+"/"+l;var o=i.properties,d=[],c=RegExp("jjf_var[ABCE]");if(Object.keys(o).map(function(e){c.test(e)===!0&&o[e].values[0].value&&d.push(e+"='"+o[e].values[0].value+"'")}),d.length>0){if(i.path_=i.path_||"",i.path_&&i.path_.lastIndexOf("]")===i.path_.length-1){var u=i.path_.lastIndexOf("[");i.path_=i.path_.substr(0,u)}i.path_+="[("+d.join(" AND ")+")]"}else r>1&&(i.path_+="["+a+"]");var p=[],v={},f="";if(i["class"].indexOf("UIView")>=0){var h=[];if(i.properties.subviews&&i.properties.subviews.values.length>0&&(h=i.properties.subviews.values[0].value),h.length>0){p=h.map(function(e){return t.filter(function(i){return i.id===e})[0]}),v=s(p);for(f in v)v.hasOwnProperty(f)&&(p=v[f],p.map(function(e,t){n(i.path_,e,t,p.length)}))}}else if(i["class"].indexOf("UIViewController")>=0){var w=i.properties.childViewControllers.values[0].value||[],b=i.properties.presentedViewController.values[0].value;null!==b&&void 0!==b&&w.push(b);var x=i.properties.isViewLoaded.values[0].value;if(x){var _=i.properties.view.values[0].value;null!==_&&w.push(_)}p=w.map(function(e){return t.filter(function(i){return i.id===e})[0]}),v=s(p);for(f in v)v.hasOwnProperty(f)&&(p=v[f],p.map(function(e,t){n(i.path_,e,t,p.length)}))}}},a=0,r=function(e,s,n,l,o){var d=t[e];if(d){var c=d["class"],u=d.properties,p="",v="",f=!1;c.indexOf("UIControl")>=0&&d.path_&&d.path_.length>1?(f=!0,p="UIControl"):c.indexOf("UITableView")>=0&&d.delegate&&d.delegate["class"]&&u.allowsSelection&&u.allowsSelection.values[0]&&u.allowsSelection.values[0].value===!0?(f=!0,v=d.delegate["class"],p="UITableView"):c.indexOf("UICollectionView")>=0&&d.delegate&&d.delegate["class"]&&u.allowsSelection&&$.isArray(u.allowsSelection.values)&&u.allowsSelection.values[0]&&u.allowsSelection.values[0].value===!0?(f=!0,v=d.delegate["class"],p="UICollectionView"):c.indexOf("UITableViewCell")>=0||c.indexOf("UICollectionViewCell")>=0?(f=!0,p="ViewCell"):c.indexOf("UIImageView")>=0?(f=!0,p="UIImageView"):c.indexOf("UILabel")>=0&&(f=!0,p="UILabel");var h=u.frame.values[0].value,w=u.bounds.values[0].value,b=s+h.X-l,x=n+h.Y-o;f&&i.push({id:d.id,eventType:p,controlEvent:0===d["class"].indexOf("UITextField")?262144:64,tableDelegate:v,path:d.path_,x:b,y:x,width:h.Width,height:h.Height,zIndex:a}),t.splice(e,1);var _=[];if(u.subviews&&u.subviews.values.length>0&&(_=u.subviews.values[0].value||[]),_.length>0)for(var g=0,O=_.length;O>g;g++)e=sensorsdata.findIndex(t,function(e){return e.id===_[g]}),r(e,b,x,w.X,w.Y)}},l=sensorsdata.findIndex(t,function(i){return i.id===e.serialized_objects.rootObject}),o=t[l],d=t.filter(function(e){return e.id===o.properties.rootViewController.values[0].value})[0];return n("",d,0,1,[]),r(l,0,0,0,0),i},sensorsdata.ConvertSnapshot.prototype.hasPath=function(e,i){if("string"!=typeof e||"string"!=typeof i)return!1;var t=e.substring(1);if(t===i||e===i)return!0;if(i.indexOf("UITableViewWrapperView")>-1&&t===i.split("UITableViewWrapperView/").join(""))return!0;if(t.indexOf("[(")>-1&&i.indexOf("[(")>-1){var s=t.split("[("),n=i.split("[(");if(s[0]===n[0]){var a=s[1].slice(0,-2).split(" AND ").sort(),r=n[1].slice(0,-2).split(" AND ").sort();if(a.join(" AND ")===r.join(" AND "))return!0}}else if(e&&i.indexOf(e)>=0){var l=i.split("/");if(l.shift(),e===l.join("/"))return!0}return!1};